---
import { getSinglePost, getStaticPostPaths } from "@/sanity/queries/posts";
import PortableText from "@/components/PortableText.astro";
import Post from "@/layouts/Post.astro";

const post = await getSinglePost(Astro.params)
export async function getStaticPaths(): Promise<{ params: { slug: string } }> {
  return await getStaticPostPaths(Astro.params);
}
---

<Post {...post} publishedAt={new Date(post.publishedAt)}>
  <PortableText portableText={post.body} />
</Post>